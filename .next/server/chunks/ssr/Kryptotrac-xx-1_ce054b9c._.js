module.exports=[88422,a=>{"use strict";let b=(0,a.i(77803).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],88422)},30389,a=>{"use strict";let b=(0,a.i(77803).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],30389)},61005,a=>{"use strict";let b=(0,a.i(77803).default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);a.s(["TrendingDown",()=>b],61005)},63013,a=>{"use strict";var b=a.i(59295),c=a.i(47937),d=a.i(59841),e=a.i(46268),f=a.i(35195);let g=(0,e.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function h({className:a,variant:c,...d}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,f.cn)(g({variant:c}),a),...d})}function i({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,f.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}var j=a.i(88422),k=a.i(30389),l=a.i(77803);let m=(0,l.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),n=(0,l.default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var o=a.i(61005);function p(){let[a,e]=(0,c.useState)(null),[f,g]=(0,c.useState)(!0),[l,p]=(0,c.useState)(null);return((0,c.useEffect)(()=>{let a=async()=>{try{let a=await fetch("/api/admin/analytics");if(!a.ok)throw Error(`Failed to fetch: ${a.status}`);let b=await a.json();e(b)}catch(a){p(a instanceof Error?a.message:"Failed to load analytics")}finally{g(!1)}};a();let b=setInterval(a,6e4);return()=>clearInterval(b)},[]),f)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(j.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):l?(0,b.jsx)(h,{variant:"destructive",children:(0,b.jsx)(i,{children:l})}):a?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(d.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Subscribers"}),(0,b.jsx)("p",{className:"text-3xl font-bold mt-2",children:a.active_subscribers})]}),(0,b.jsx)(m,{className:"w-8 h-8 text-primary"})]})}),(0,b.jsx)(d.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Monthly Recurring Revenue"}),(0,b.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",a.mrr.toFixed(2)]})]}),(0,b.jsx)(n,{className:"w-8 h-8 text-green-500"})]})}),(0,b.jsx)(d.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Churn Rate"}),(0,b.jsxs)("p",{className:"text-3xl font-bold mt-2",children:[a.churn_rate.toFixed(1),"%"]})]}),(0,b.jsx)(o.TrendingDown,{className:"w-8 h-8 text-red-500"})]})}),(0,b.jsx)(d.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"ARPU"}),(0,b.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",a.active_subscribers>0?(a.mrr/a.active_subscribers).toFixed(2):"0.00"]})]}),(0,b.jsx)(k.TrendingUp,{className:"w-8 h-8 text-blue-500"})]})})]}),(0,b.jsxs)(d.Card,{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"MRR by Plan"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(a.mrr_by_plan).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,b.jsx)("span",{className:"font-medium capitalize",children:a}),(0,b.jsxs)("span",{className:"text-lg font-bold",children:["$",c.toFixed(2)]})]},a))})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Last updated: ",new Date(a.timestamp).toLocaleString()]})]}):(0,b.jsx)(h,{children:(0,b.jsx)(i,{children:"No data available"})})}a.s(["SubscriptionAnalyticsDashboard",()=>p],63013)}];

//# sourceMappingURL=Kryptotrac-xx-1_ce054b9c._.js.map