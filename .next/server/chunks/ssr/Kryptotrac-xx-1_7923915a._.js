module.exports=[34357,a=>{"use strict";let b=(0,a.i(77803).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["default",()=>b])},79590,a=>{"use strict";var b=a.i(34357);a.s(["Check",()=>b.default])},73637,a=>{"use strict";let b=new class{isDevelopment;isProduction;constructor(){this.isDevelopment=!1,this.isProduction=!0}formatMessage(a,b,c){let d=new Date().toISOString();if(this.isProduction)return JSON.stringify({timestamp:d,level:a.toUpperCase(),message:b,...c});{let d={debug:"ðŸ”",info:"â„¹ï¸",warn:"âš ï¸",error:"âŒ"}[a],e=c?`
${JSON.stringify(c,null,2)}`:"";return`${d} [${a.toUpperCase()}] ${b}${e}`}}shouldLog(a){return!this.isProduction||"warn"===a||"error"===a}debug(a,b){this.shouldLog("debug")&&console.log(this.formatMessage("debug",a,b))}info(a,b){this.shouldLog("info")&&console.log(this.formatMessage("info",a,b))}warn(a,b){this.shouldLog("warn")&&console.warn(this.formatMessage("warn",a,b))}error(a,b){this.shouldLog("error")&&console.error(this.formatMessage("error",a,b))}v0(a,b,c){let d=`[v0] ${b}`;switch(a){case"debug":this.debug(d,c);break;case"info":this.info(d,c);break;case"warn":this.warn(d,c);break;case"error":this.error(d,c)}}};a.s(["logger",0,b])},40807,a=>{"use strict";var b=a.i(59295),c=a.i(35195);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},4299,a=>{"use strict";let b=(0,a.i(77803).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],4299)},81419,a=>{"use strict";let b=(0,a.i(77803).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],81419)},75583,a=>{"use strict";let b=(0,a.i(77803).default)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);a.s(["Wallet",()=>b],75583)},41887,a=>{"use strict";var b=a.i(59295),c=a.i(47937),d=a.i(66670),e=a.i(73637),f=a.i(81550),g=a.i(40807),h=a.i(4299),i=a.i(81419),j=a.i(75583);let k=(0,a.i(77803).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var l=a.i(79590),m=a.i(4944);function n(){let[a,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)("");async function C(){p(!0);let a=(0,d.createBrowserClient)(),{data:{user:b}}=await a.auth.getUser();if(!b){e.logger.warn("No user found when loading wallets"),p(!1);return}let{data:c,error:f}=await a.from("user_wallets").select("*").eq("user_id",b.id).order("created_at",{ascending:!1});f?(e.logger.error("Failed to load wallets",{error:f}),z("Failed to load wallets")):n(c||[]),p(!1)}async function D(){if(!u.trim())return void z("Wallet address is required");if(!/^0x[a-fA-F0-9]{40}$/.test(u.trim()))return void z("Invalid Ethereum address format");z("");let b=(0,d.createBrowserClient)(),{data:{user:c}}=await b.auth.getUser();if(!c)return;let{data:f,error:g}=await b.from("user_wallets").insert([{user_id:c.id,address:u.trim(),label:w.trim()||`Wallet ${a.length+1}`,chain:"ethereum"}]).select().single();g?(e.logger.error("Failed to add wallet",{error:g}),z("Failed to add wallet. It may already exist.")):(e.logger.info("Wallet added successfully",{walletId:f.id}),n([f,...a]),v(""),x(""),r(!1))}async function E(b){if(!A.trim())return void z("Label cannot be empty");let c=(0,d.createBrowserClient)(),{error:f}=await c.from("user_wallets").update({label:A.trim()}).eq("id",b);f?(e.logger.error("Failed to update wallet label",{error:f,walletId:b}),z("Failed to update label")):(e.logger.info("Wallet label updated",{walletId:b}),n(a.map(a=>a.id===b?{...a,label:A.trim()}:a)),t(null),B(""))}async function F(b){if(!confirm("Are you sure you want to delete this wallet?"))return;let c=(0,d.createBrowserClient)(),{error:f}=await c.from("user_wallets").delete().eq("id",b);f?(e.logger.error("Failed to delete wallet",{error:f,walletId:b}),z("Failed to delete wallet")):(e.logger.info("Wallet deleted",{walletId:b}),n(a.filter(a=>a.id!==b)))}return((0,c.useEffect)(()=>{C()},[]),o)?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-white/5 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-20 bg-white/5 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-20 bg-white/5 rounded animate-pulse"})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(j.Wallet,{className:"w-6 h-6"}),"My Wallets"]}),(0,b.jsx)("p",{className:"text-white/60 text-sm mt-1",children:"Add Ethereum wallets to track your DeFi positions"})]}),!q&&(0,b.jsxs)(f.Button,{onClick:()=>r(!0),className:"bg-gradient-to-r from-red-600 to-red-500",children:[(0,b.jsx)(i.Plus,{className:"w-4 h-4 mr-2"}),"Add Wallet"]})]}),y&&(0,b.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:y}),q&&(0,b.jsxs)("div",{className:"glass-card p-6 space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Add New Wallet"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Wallet Address"}),(0,b.jsx)(g.Input,{type:"text",value:u,onChange:a=>v(a.target.value),placeholder:"0x...",className:"bg-white/5 border-white/10 text-white"}),(0,b.jsx)("p",{className:"text-xs text-white/40 mt-1",children:"Ethereum address (0x followed by 40 hex characters)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Label (optional)"}),(0,b.jsx)(g.Input,{type:"text",value:w,onChange:a=>x(a.target.value),placeholder:"My Main Wallet",className:"bg-white/5 border-white/10 text-white"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{onClick:D,className:"bg-gradient-to-r from-red-600 to-red-500",children:[(0,b.jsx)(l.Check,{className:"w-4 h-4 mr-2"}),"Add Wallet"]}),(0,b.jsxs)(f.Button,{onClick:()=>{r(!1),v(""),x(""),z("")},variant:"outline",children:[(0,b.jsx)(m.X,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===a.length?(0,b.jsxs)("div",{className:"glass-card p-12 text-center",children:[(0,b.jsx)(j.Wallet,{className:"w-12 h-12 mx-auto text-white/20 mb-4"}),(0,b.jsx)("p",{className:"text-white/60",children:"No wallets added yet"}),(0,b.jsx)("p",{className:"text-white/40 text-sm mt-1",children:"Add a wallet to start tracking your DeFi positions"})]}):a.map(a=>(0,b.jsx)("div",{className:"glass-card p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex-1",children:s===a.id?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Input,{type:"text",value:A,onChange:a=>B(a.target.value),className:"bg-white/5 border-white/10 text-white max-w-xs",autoFocus:!0}),(0,b.jsx)(f.Button,{size:"sm",onClick:()=>E(a.id),className:"bg-green-600 hover:bg-green-700",children:(0,b.jsx)(l.Check,{className:"w-4 h-4"})}),(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>{t(null),B("")},children:(0,b.jsx)(m.X,{className:"w-4 h-4"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-white",children:a.label}),(0,b.jsx)("span",{className:"text-xs px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:a.chain})]}),(0,b.jsx)("p",{className:"text-sm text-white/60 font-mono mt-1",children:a.address})]})}),s!==a.id&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>{t(a.id),B(a.label)},children:(0,b.jsx)(k,{className:"w-4 h-4"})}),(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>F(a.id),className:"text-red-400 hover:text-red-300 hover:border-red-500/50",children:(0,b.jsx)(h.Trash2,{className:"w-4 h-4"})})]})]})},a.id))})]})}a.s(["WalletManager",()=>n],41887)}];

//# sourceMappingURL=Kryptotrac-xx-1_7923915a._.js.map