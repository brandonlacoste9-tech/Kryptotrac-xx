module.exports=[80612,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call PortfolioShareCard() from the server but PortfolioShareCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/share/portfolio-share-card.tsx <module evaluation>","PortfolioShareCard");a.s(["PortfolioShareCard",0,b])},12016,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call PortfolioShareCard() from the server but PortfolioShareCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/share/portfolio-share-card.tsx","PortfolioShareCard");a.s(["PortfolioShareCard",0,b])},1274,a=>{"use strict";a.i(80612);var b=a.i(12016);a.n(b)},73691,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call WatchlistSection() from the server but WatchlistSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/watchlist/watchlist-section.tsx <module evaluation>","WatchlistSection");a.s(["WatchlistSection",0,b])},96546,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call WatchlistSection() from the server but WatchlistSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/watchlist/watchlist-section.tsx","WatchlistSection");a.s(["WatchlistSection",0,b])},83058,a=>{"use strict";a.i(73691);var b=a.i(96546);a.n(b)},92595,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call PortfolioSection() from the server but PortfolioSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/portfolio/portfolio-section.tsx <module evaluation>","PortfolioSection");a.s(["PortfolioSection",0,b])},84,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call PortfolioSection() from the server but PortfolioSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/portfolio/portfolio-section.tsx","PortfolioSection");a.s(["PortfolioSection",0,b])},97068,a=>{"use strict";a.i(92595);var b=a.i(84);a.n(b)},71345,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call EmptyDashboard() from the server but EmptyDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/dashboard/empty-dashboard.tsx <module evaluation>","EmptyDashboard");a.s(["EmptyDashboard",0,b])},83732,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call EmptyDashboard() from the server but EmptyDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/dashboard/empty-dashboard.tsx","EmptyDashboard");a.s(["EmptyDashboard",0,b])},84008,a=>{"use strict";a.i(71345);var b=a.i(83732);a.n(b)},74126,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call StreakTracker() from the server but StreakTracker is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/gamification/streak-tracker.tsx <module evaluation>","StreakTracker");a.s(["StreakTracker",0,b])},5328,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call StreakTracker() from the server but StreakTracker is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/gamification/streak-tracker.tsx","StreakTracker");a.s(["StreakTracker",0,b])},39923,a=>{"use strict";a.i(74126);var b=a.i(5328);a.n(b)},50271,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call RecommendedExchanges() from the server but RecommendedExchanges is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/affiliates/recommended-exchanges.tsx <module evaluation>","RecommendedExchanges");a.s(["RecommendedExchanges",0,b])},58685,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call RecommendedExchanges() from the server but RecommendedExchanges is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/affiliates/recommended-exchanges.tsx","RecommendedExchanges");a.s(["RecommendedExchanges",0,b])},81177,a=>{"use strict";a.i(50271);var b=a.i(58685);a.n(b)},15771,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call BBWelcomeWrapper() from the server but BBWelcomeWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/onboarding/bb-welcome-wrapper.tsx <module evaluation>","BBWelcomeWrapper");a.s(["BBWelcomeWrapper",0,b])},6531,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call BBWelcomeWrapper() from the server but BBWelcomeWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/onboarding/bb-welcome-wrapper.tsx","BBWelcomeWrapper");a.s(["BBWelcomeWrapper",0,b])},22554,a=>{"use strict";a.i(15771);var b=a.i(6531);a.n(b)},12991,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call DeFiPositions() from the server but DeFiPositions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/dashboard/DeFiPositions.tsx <module evaluation>","DeFiPositions");a.s(["DeFiPositions",0,b])},78409,a=>{"use strict";let b=(0,a.i(54028).registerClientReference)(function(){throw Error("Attempted to call DeFiPositions() from the server but DeFiPositions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Kryptotrac-xx-1/components/dashboard/DeFiPositions.tsx","DeFiPositions");a.s(["DeFiPositions",0,b])},86337,a=>{"use strict";a.i(12991);var b=a.i(78409);a.n(b)},12142,a=>{"use strict";var b,c=a.i(96404);a.i(56025);var d=a.i(46303),e=a.i(15863);let f=process.env.COINGECKO_API_KEY||"",g=new Map;async function h(a){let b;if(0===a.length)return[];let c=`multi-${a.sort().join(",")}`,d=(b=g.get(c))&&Date.now()-b.timestamp<6e4?b.data:null;if(d)return d;try{let b,d=a.join(","),e=await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${d}&order=market_cap_desc&sparkline=true&price_change_percentage=24h`,{headers:(b={Accept:"application/json"},f&&(b["x-cg-pro-api-key"]=f),b)});if(!e.ok)throw Error(`Failed to fetch prices: ${e.status}`);let h=await e.json();return console.log("[v0] Fetched prices for:",a.length,"coins"),g.set(c,{data:h,timestamp:Date.now()}),h}catch(a){throw console.error("[v0] CoinGecko multi-price error:",a),a}}async function i(a){return h(a)}var j=a.i(44450),k=a.i(1190);let l=(0,k.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var m=a.i(98849),n=a.i(1274);async function o({userId:a}){let b=await (0,e.createServerClient)(),{data:d}=await b.from("user_portfolios").select("*").eq("user_id",a);if(!d||0===d.length)return null;let f=d.map(a=>a.coin_id),g=await i(f),{data:h}=await b.from("user_subscriptions").select("status, plan").eq("user_id",a).single(),k=0,o=0,p={name:"",gain:0},q={name:"",gain:0};d.forEach(a=>{let b=g.find(b=>b.id===a.coin_id);if(b){let c=a.quantity*b.current_price,d=a.quantity*a.purchase_price,e=(c-d)/d*100;k+=c,o+=d,e>p.gain&&(p={name:b.name,gain:e}),e<q.gain&&(q={name:b.name,gain:e})}});let r=(k-o)/o*100,s=k-o,t=[{label:"Total Value",value:`$${k.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:m.DollarSign,color:"text-white"},{label:"24h Change",value:`${r>=0?"+":""}${r.toFixed(2)}%`,subValue:`$${s>=0?"+":""}${s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:r>=0?j.TrendingUp:l,color:r>=0?"text-green-500":"text-red-500"},{label:"Top Gainer",value:p.name,subValue:`+${p.gain.toFixed(2)}%`,icon:j.TrendingUp,color:"text-green-500"},{label:"Top Loser",value:q.name,subValue:`${q.gain.toFixed(2)}%`,icon:l,color:"text-red-500"}];return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold",children:"Portfolio Overview"}),k>0&&(0,c.jsx)(n.PortfolioShareCard,{totalValue:k,totalProfitLoss:s,profitLossPercentage:r,topHoldings:d.map(a=>{let b=g.find(b=>b.id===a.coin_id);return{coinId:a.coin_id,symbol:a.symbol,quantity:a.quantity,currentPrice:b?.current_price||0,profitLoss:((b?.current_price||0)-a.purchase_price)*a.quantity}}),isPro:h?.status==="active"})]}),(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((a,b)=>(0,c.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 hover:border-primary/50 transition-all duration-200",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("span",{className:"text-sm text-muted-foreground",children:a.label}),(0,c.jsx)(a.icon,{className:`h-4 w-4 ${a.color}`})]}),(0,c.jsx)("div",{className:`text-2xl font-bold ${a.color}`,children:a.value}),a.subValue&&(0,c.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:a.subValue})]},b))})]})}var p=a.i(83058),q=a.i(97068);let r=(0,k.default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),s=(0,k.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),t=(0,k.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),u=Symbol.for("constructDateFrom");function v(a,b){return"function"==typeof a?a(b):a&&"object"==typeof a&&u in a?a[u](b):a instanceof Date?new a.constructor(b):new Date(b)}let w={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function x(a){return (b={})=>{let c=b.width?String(b.width):a.defaultWidth;return a.formats[c]||a.formats[a.defaultWidth]}}let y={date:x({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:x({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:x({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},z={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function A(a){return(b,c)=>{let d;if("formatting"===(c?.context?String(c.context):"standalone")&&a.formattingValues){let b=a.defaultFormattingWidth||a.defaultWidth,e=c?.width?String(c.width):b;d=a.formattingValues[e]||a.formattingValues[b]}else{let b=a.defaultWidth,e=c?.width?String(c.width):a.defaultWidth;d=a.values[e]||a.values[b]}return d[a.argumentCallback?a.argumentCallback(b):b]}}function B(a){return(b,c={})=>{let d,e=c.width,f=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],g=b.match(f);if(!g)return null;let h=g[0],i=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],j=Array.isArray(i)?function(a,b){for(let c=0;c<a.length;c++)if(b(a[c]))return c}(i,a=>a.test(h)):function(a,b){for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b(a[c]))return c}(i,a=>a.test(h));return d=a.valueCallback?a.valueCallback(j):j,{value:d=c.valueCallback?c.valueCallback(d):d,rest:b.slice(h.length)}}}let C={code:"en-US",formatDistance:(a,b,c)=>{let d,e=w[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",b.toString()),c?.addSuffix)if(c.comparison&&c.comparison>0)return"in "+d;else return d+" ago";return d},formatLong:y,formatRelative:(a,b,c,d)=>z[a],localize:{ordinalNumber:(a,b)=>{let c=Number(a),d=c%100;if(d>20||d<10)switch(d%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd"}return c+"th"},era:A({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:A({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:A({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:A({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:A({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(b={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)},(a,c={})=>{let d=a.match(b.matchPattern);if(!d)return null;let e=d[0],f=a.match(b.parsePattern);if(!f)return null;let g=b.valueCallback?b.valueCallback(f[0]):f[0];return{value:g=c.valueCallback?c.valueCallback(g):g,rest:a.slice(e.length)}}),era:B({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:B({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:B({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:B({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:B({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},D={};function E(a,b){return v(b||a,a)}function F(a){let b=E(a),c=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()));return c.setUTCFullYear(b.getFullYear()),a-c}function G(a,...b){let c=v.bind(null,a||b.find(a=>"object"==typeof a));return b.map(c)}function H(a,b){let c=E(a)-E(b);return c<0?-1:c>0?1:c}async function I({userId:a}){let b=await (0,e.createServerClient)(),{data:d}=await b.from("price_alerts").select("*").eq("user_id",a).eq("triggered",!0).order("triggered_at",{ascending:!1}).limit(5),{data:f}=await b.from("insights_history").select("generated_at, summary").eq("user_id",a).order("generated_at",{ascending:!1}).limit(3),{data:g}=await b.from("portfolio_snapshots").select("snapshot_date, total_value").eq("user_id",a).order("snapshot_date",{ascending:!1}).limit(10),h=[];if(g&&g.length>1){let a=[1e3,5e3,1e4,25e3,5e4,1e5];for(let b=0;b<g.length-1;b++){let c=g[b].total_value,d=g[b+1].total_value;for(let e of a)d<e&&c>=e&&h.push({type:"milestone",icon:j.TrendingUp,title:"Portfolio Milestone!",description:`Your portfolio crossed $${e.toLocaleString()}`,time:g[b].snapshot_date,color:"text-green-500"})}}let i=[...(d||[]).map(a=>({type:"alert",icon:r,title:`${a.coin_id.toUpperCase()} Alert Triggered`,description:`Price ${a.condition} $${a.target_price}`,time:a.triggered_at,color:"text-yellow-500"})),...(f||[]).map(a=>({type:"insight",icon:t,title:"New AI Insight",description:a.summary.substring(0,60)+"...",time:a.generated_at,color:"text-purple-500"})),...h].sort((a,b)=>new Date(b.time).getTime()-new Date(a.time).getTime()).slice(0,10);return(0,c.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 sticky top-4",children:[(0,c.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,c.jsx)(j.TrendingUp,{className:"h-5 w-5"}),"Recent Activity"]}),0===i.length?(0,c.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,c.jsx)(s,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,c.jsx)("p",{className:"text-sm",children:"No recent activity"}),(0,c.jsx)("p",{className:"text-xs mt-1",children:"Alerts, insights, and milestones will appear here"})]}):(0,c.jsx)("div",{className:"space-y-4",children:i.map((a,b)=>{var d,e;return(0,c.jsxs)("div",{className:"flex gap-3 pb-4 border-b border-border last:border-0 last:pb-0",children:[(0,c.jsx)("div",{className:`mt-1 ${a.color}`,children:(0,c.jsx)(a.icon,{className:"h-4 w-4"})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-foreground",children:a.title}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.description}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground/60 mt-1",children:(d=new Date(a.time),e={addSuffix:!0},function(a,b,c){var d;let e,f=c?.locale??D.locale??C,g=H(a,b);if(isNaN(g))throw RangeError("Invalid time value");let h=Object.assign({},c,{addSuffix:c?.addSuffix,comparison:g}),[i,j]=G(c?.in,...g>0?[b,a]:[a,b]),k=(d=void 0,a=>{let b=(d?Math[d]:Math.trunc)(a);return 0===b?0:b})((E(j)-E(i))/1e3),l=Math.round((k-(F(j)-F(i))/1e3)/60);if(l<2)if(c?.includeSeconds)if(k<5)return f.formatDistance("lessThanXSeconds",5,h);else if(k<10)return f.formatDistance("lessThanXSeconds",10,h);else if(k<20)return f.formatDistance("lessThanXSeconds",20,h);else if(k<40)return f.formatDistance("halfAMinute",0,h);else if(k<60)return f.formatDistance("lessThanXMinutes",1,h);else return f.formatDistance("xMinutes",1,h);else if(0===l)return f.formatDistance("lessThanXMinutes",1,h);else return f.formatDistance("xMinutes",l,h);if(l<45)return f.formatDistance("xMinutes",l,h);if(l<90)return f.formatDistance("aboutXHours",1,h);if(l<1440){let a=Math.round(l/60);return f.formatDistance("aboutXHours",a,h)}if(l<2520)return f.formatDistance("xDays",1,h);else if(l<43200){let a=Math.round(l/1440);return f.formatDistance("xDays",a,h)}else if(l<86400)return e=Math.round(l/43200),f.formatDistance("aboutXMonths",e,h);if((e=function(a,b,c){var d,e;let f,g,h,i,[j,k,l]=G(void 0,a,a,b),m=H(k,l),n=Math.abs(function(a,b,c){let[d,e]=G(void 0,a,b);return 12*(d.getFullYear()-e.getFullYear())+(d.getMonth()-e.getMonth())}(k,l));if(n<1)return 0;1===k.getMonth()&&k.getDate()>27&&k.setDate(30),k.setMonth(k.getMonth()-m*n);let o=H(k,l)===-m;+(f=E(j,void 0),d=void 0,(g=E(f,d?.in)).setHours(23,59,59,999),g)==+(e=void 0,i=(h=E(f,e?.in)).getMonth(),h.setFullYear(h.getFullYear(),i+1,0),h.setHours(23,59,59,999),h)&&1===n&&1===H(j,l)&&(o=!1);let p=m*(n-o);return 0===p?0:p}(j,i))<12){let a=Math.round(l/43200);return f.formatDistance("xMonths",a,h)}{let a=e%12,b=Math.trunc(e/12);return a<3?f.formatDistance("aboutXYears",b,h):a<9?f.formatDistance("overXYears",b,h):f.formatDistance("almostXYears",b+1,h)}}(d,v(d,Date.now()),e))})]})]},b)})})]})}var J=a.i(84008),K=a.i(39923),L=a.i(81177),M=a.i(22554),N=a.i(86337);async function O(){let a=await (0,e.createServerClient)(),{data:{user:b}}=await a.auth.getUser();b||(0,d.redirect)("/auth/login");let{data:f}=await a.from("profiles").select("onboarding_completed").eq("id",b.id).single(),g=!f?.onboarding_completed,{data:h}=await a.from("user_watchlists").select("id").eq("user_id",b.id).limit(1),{data:i}=await a.from("user_portfolios").select("id").eq("user_id",b.id).limit(1);return h&&h.length>0||i&&i.length>0?(0,c.jsxs)(c.Fragment,{children:[g&&(0,c.jsx)(M.BBWelcomeWrapper,{}),(0,c.jsx)("div",{className:"min-h-screen bg-background",children:(0,c.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsxs)("h1",{className:"text-3xl font-bold text-balance",children:["Welcome back, ",b.email?.split("@")[0]]}),(0,c.jsx)("p",{className:"text-muted-foreground mt-1",children:"Here's what's happening with your portfolio"})]}),(0,c.jsx)("div",{className:"mb-6",children:(0,c.jsx)(K.StreakTracker,{})}),(0,c.jsx)(o,{userId:b.id}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[(0,c.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,c.jsx)(p.WatchlistSection,{}),(0,c.jsx)(q.PortfolioSection,{}),(0,c.jsx)(N.DeFiPositions,{})]}),(0,c.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,c.jsx)(I,{userId:b.id}),(0,c.jsx)(L.RecommendedExchanges,{})]})]})]})})]}):(0,c.jsxs)(c.Fragment,{children:[g&&(0,c.jsx)(M.BBWelcomeWrapper,{}),(0,c.jsx)(J.EmptyDashboard,{user:b})]})}a.s(["default",()=>O],12142)}];

//# sourceMappingURL=Kryptotrac-xx-1_dfb92cb8._.js.map