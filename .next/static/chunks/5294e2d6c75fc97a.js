(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,91161,e=>{"use strict";let t=(0,e.i(74227).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t])},83460,e=>{"use strict";var t=e.i(91161);e.s(["Check",()=>t.default])},56292,e=>{"use strict";let t=new class{isDevelopment;isProduction;constructor(){this.isDevelopment=!1,this.isProduction=!0}formatMessage(e,t,s){let a=new Date().toISOString();if(this.isProduction)return JSON.stringify({timestamp:a,level:e.toUpperCase(),message:t,...s});{let a={debug:"ðŸ”",info:"â„¹ï¸",warn:"âš ï¸",error:"âŒ"}[e],l=s?`
${JSON.stringify(s,null,2)}`:"";return`${a} [${e.toUpperCase()}] ${t}${l}`}}shouldLog(e){return!this.isProduction||"warn"===e||"error"===e}debug(e,t){this.shouldLog("debug")&&console.log(this.formatMessage("debug",e,t))}info(e,t){this.shouldLog("info")&&console.log(this.formatMessage("info",e,t))}warn(e,t){this.shouldLog("warn")&&console.warn(this.formatMessage("warn",e,t))}error(e,t){this.shouldLog("error")&&console.error(this.formatMessage("error",e,t))}v0(e,t,s){let a=`[v0] ${t}`;switch(e){case"debug":this.debug(a,s);break;case"info":this.info(a,s);break;case"warn":this.warn(a,s);break;case"error":this.error(a,s)}}};e.s(["logger",0,t])},54820,e=>{"use strict";var t=e.i(91392),s=e.i(13628);function a({className:e,type:a,...l}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...l})}e.s(["Input",()=>a])},18007,e=>{"use strict";let t=(0,e.i(74227).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],18007)},63549,e=>{"use strict";let t=(0,e.i(74227).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],63549)},71486,e=>{"use strict";let t=(0,e.i(74227).default)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],71486)},20308,e=>{"use strict";var t=e.i(91392),s=e.i(66884),a=e.i(21385),l=e.i(56292),r=e.i(62282),i=e.i(54820),d=e.i(18007),n=e.i(63549),o=e.i(71486);let c=(0,e.i(74227).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var u=e.i(83460),h=e.i(71497);function m(){let[e,m]=(0,s.useState)([]),[x,g]=(0,s.useState)(!0),[f,w]=(0,s.useState)(!1),[p,b]=(0,s.useState)(null),[v,j]=(0,s.useState)(""),[y,N]=(0,s.useState)(""),[k,C]=(0,s.useState)(""),[M,W]=(0,s.useState)("");async function B(){g(!0);let e=(0,a.createBrowserClient)(),{data:{user:t}}=await e.auth.getUser();if(!t){l.logger.warn("No user found when loading wallets"),g(!1);return}let{data:s,error:r}=await e.from("user_wallets").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});r?(l.logger.error("Failed to load wallets",{error:r}),C("Failed to load wallets")):m(s||[]),g(!1)}async function F(){if(!v.trim())return void C("Wallet address is required");if(!/^0x[a-fA-F0-9]{40}$/.test(v.trim()))return void C("Invalid Ethereum address format");C("");let t=(0,a.createBrowserClient)(),{data:{user:s}}=await t.auth.getUser();if(!s)return;let{data:r,error:i}=await t.from("user_wallets").insert([{user_id:s.id,address:v.trim(),label:y.trim()||`Wallet ${e.length+1}`,chain:"ethereum"}]).select().single();i?(l.logger.error("Failed to add wallet",{error:i}),C("Failed to add wallet. It may already exist.")):(l.logger.info("Wallet added successfully",{walletId:r.id}),m([r,...e]),j(""),N(""),w(!1))}async function S(t){if(!M.trim())return void C("Label cannot be empty");let s=(0,a.createBrowserClient)(),{error:r}=await s.from("user_wallets").update({label:M.trim()}).eq("id",t);r?(l.logger.error("Failed to update wallet label",{error:r,walletId:t}),C("Failed to update label")):(l.logger.info("Wallet label updated",{walletId:t}),m(e.map(e=>e.id===t?{...e,label:M.trim()}:e)),b(null),W(""))}async function A(t){if(!confirm("Are you sure you want to delete this wallet?"))return;let s=(0,a.createBrowserClient)(),{error:r}=await s.from("user_wallets").delete().eq("id",t);r?(l.logger.error("Failed to delete wallet",{error:r,walletId:t}),C("Failed to delete wallet")):(l.logger.info("Wallet deleted",{walletId:t}),m(e.filter(e=>e.id!==t)))}return((0,s.useEffect)(()=>{B()},[]),x)?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-white/5 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-20 bg-white/5 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-20 bg-white/5 rounded animate-pulse"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(o.Wallet,{className:"w-6 h-6"}),"My Wallets"]}),(0,t.jsx)("p",{className:"text-white/60 text-sm mt-1",children:"Add Ethereum wallets to track your DeFi positions"})]}),!f&&(0,t.jsxs)(r.Button,{onClick:()=>w(!0),className:"bg-gradient-to-r from-red-600 to-red-500",children:[(0,t.jsx)(n.Plus,{className:"w-4 h-4 mr-2"}),"Add Wallet"]})]}),k&&(0,t.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:k}),f&&(0,t.jsxs)("div",{className:"glass-card p-6 space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Add New Wallet"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Wallet Address"}),(0,t.jsx)(i.Input,{type:"text",value:v,onChange:e=>j(e.target.value),placeholder:"0x...",className:"bg-white/5 border-white/10 text-white"}),(0,t.jsx)("p",{className:"text-xs text-white/40 mt-1",children:"Ethereum address (0x followed by 40 hex characters)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Label (optional)"}),(0,t.jsx)(i.Input,{type:"text",value:y,onChange:e=>N(e.target.value),placeholder:"My Main Wallet",className:"bg-white/5 border-white/10 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.Button,{onClick:F,className:"bg-gradient-to-r from-red-600 to-red-500",children:[(0,t.jsx)(u.Check,{className:"w-4 h-4 mr-2"}),"Add Wallet"]}),(0,t.jsxs)(r.Button,{onClick:()=>{w(!1),j(""),N(""),C("")},variant:"outline",children:[(0,t.jsx)(h.X,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===e.length?(0,t.jsxs)("div",{className:"glass-card p-12 text-center",children:[(0,t.jsx)(o.Wallet,{className:"w-12 h-12 mx-auto text-white/20 mb-4"}),(0,t.jsx)("p",{className:"text-white/60",children:"No wallets added yet"}),(0,t.jsx)("p",{className:"text-white/40 text-sm mt-1",children:"Add a wallet to start tracking your DeFi positions"})]}):e.map(e=>(0,t.jsx)("div",{className:"glass-card p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex-1",children:p===e.id?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Input,{type:"text",value:M,onChange:e=>W(e.target.value),className:"bg-white/5 border-white/10 text-white max-w-xs",autoFocus:!0}),(0,t.jsx)(r.Button,{size:"sm",onClick:()=>S(e.id),className:"bg-green-600 hover:bg-green-700",children:(0,t.jsx)(u.Check,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{size:"sm",variant:"outline",onClick:()=>{b(null),W("")},children:(0,t.jsx)(h.X,{className:"w-4 h-4"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-white",children:e.label}),(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:e.chain})]}),(0,t.jsx)("p",{className:"text-sm text-white/60 font-mono mt-1",children:e.address})]})}),p!==e.id&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Button,{size:"sm",variant:"outline",onClick:()=>{b(e.id),W(e.label)},children:(0,t.jsx)(c,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{size:"sm",variant:"outline",onClick:()=>A(e.id),className:"text-red-400 hover:text-red-300 hover:border-red-500/50",children:(0,t.jsx)(d.Trash2,{className:"w-4 h-4"})})]})]})},e.id))})]})}e.s(["WalletManager",()=>m],20308)}]);