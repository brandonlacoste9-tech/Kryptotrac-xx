{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/lib/coingecko.ts"],"sourcesContent":["const COINGECKO_API = \"https://api.coingecko.com/api/v3\"\r\nconst COINGECKO_API_KEY = process.env.COINGECKO_API_KEY || \"\"\r\n\r\nconst CACHE_DURATION = 60000 // 1 minute cache\r\nconst cache = new Map<string, { data: any; timestamp: number }>()\r\n\r\n// Create headers with API key if available\r\nfunction getHeaders() {\r\n  const headers: HeadersInit = {\r\n    'Accept': 'application/json',\r\n  }\r\n\r\n  if (COINGECKO_API_KEY) {\r\n    headers['x-cg-pro-api-key'] = COINGECKO_API_KEY\r\n  }\r\n\r\n  return headers\r\n}\r\n\r\nconst FALLBACK_TOP_COINS: CoinPrice[] = [\r\n  {\r\n    id: 'bitcoin',\r\n    symbol: 'btc',\r\n    name: 'Bitcoin',\r\n    image: 'https://assets.coingecko.com/coins/images/1/large/bitcoin.png',\r\n    current_price: 95000,\r\n    price_change_percentage_24h: 2.5,\r\n    market_cap: 1800000000000,\r\n    total_volume: 45000000000,\r\n  },\r\n  {\r\n    id: 'ethereum',\r\n    symbol: 'eth',\r\n    name: 'Ethereum',\r\n    image: 'https://assets.coingecko.com/coins/images/279/large/ethereum.png',\r\n    current_price: 3200,\r\n    price_change_percentage_24h: 1.8,\r\n    market_cap: 380000000000,\r\n    total_volume: 20000000000,\r\n  },\r\n  {\r\n    id: 'tether',\r\n    symbol: 'usdt',\r\n    name: 'Tether',\r\n    image: 'https://assets.coingecko.com/coins/images/325/large/Tether.png',\r\n    current_price: 1.00,\r\n    price_change_percentage_24h: 0.01,\r\n    market_cap: 120000000000,\r\n    total_volume: 80000000000,\r\n  },\r\n  {\r\n    id: 'solana',\r\n    symbol: 'sol',\r\n    name: 'Solana',\r\n    image: 'https://assets.coingecko.com/coins/images/4128/large/solana.png',\r\n    current_price: 180,\r\n    price_change_percentage_24h: 3.2,\r\n    market_cap: 85000000000,\r\n    total_volume: 4000000000,\r\n  },\r\n  {\r\n    id: 'binancecoin',\r\n    symbol: 'bnb',\r\n    name: 'BNB',\r\n    image: 'https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png',\r\n    current_price: 620,\r\n    price_change_percentage_24h: 1.5,\r\n    market_cap: 90000000000,\r\n    total_volume: 2000000000,\r\n  },\r\n  {\r\n    id: 'ripple',\r\n    symbol: 'xrp',\r\n    name: 'XRP',\r\n    image: 'https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png',\r\n    current_price: 2.20,\r\n    price_change_percentage_24h: 0.8,\r\n    market_cap: 125000000000,\r\n    total_volume: 5000000000,\r\n  },\r\n]\r\n\r\nexport interface CoinSearchResult {\r\n  id: string\r\n  symbol: string\r\n  name: string\r\n  thumb: string\r\n  large: string\r\n}\r\n\r\nexport interface CoinPrice {\r\n  id: string\r\n  symbol: string\r\n  name: string\r\n  image: string\r\n  current_price: number\r\n  price_change_percentage_24h: number\r\n  market_cap: number\r\n  total_volume: number\r\n  sparkline_in_7d?: {\r\n    price: number[]\r\n  }\r\n}\r\n\r\nfunction getCached<T>(key: string): T | null {\r\n  const cached = cache.get(key)\r\n  if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\r\n    return cached.data as T\r\n  }\r\n  return null\r\n}\r\n\r\nfunction setCache(key: string, data: any) {\r\n  cache.set(key, { data, timestamp: Date.now() })\r\n}\r\n\r\nexport async function searchCoins(query: string): Promise<CoinSearchResult[]> {\r\n  const cacheKey = `search-${query}`\r\n  const cached = getCached<CoinSearchResult[]>(cacheKey)\r\n  if (cached) return cached\r\n\r\n  try {\r\n    const response = await fetch(`${COINGECKO_API}/search?query=${encodeURIComponent(query)}`)\r\n    if (!response.ok) throw new Error(\"Failed to search coins\")\r\n    const data = await response.json()\r\n    const results = data.coins || []\r\n    setCache(cacheKey, results)\r\n    return results\r\n  } catch (error) {\r\n    console.error(\"[v0] CoinGecko search error:\", error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport async function getCoinPrice(coinId: string): Promise<number> {\r\n  const cacheKey = `price-${coinId}`\r\n  const cached = getCached<number>(cacheKey)\r\n  if (cached) return cached\r\n\r\n  try {\r\n    const response = await fetch(\r\n      `${COINGECKO_API}/simple/price?ids=${coinId}&vs_currencies=usd`,\r\n      { headers: getHeaders() }\r\n    )\r\n    if (!response.ok) throw new Error(\"Failed to fetch price\")\r\n    const data = await response.json()\r\n    const price = data[coinId]?.usd || 0\r\n    setCache(cacheKey, price)\r\n    return price\r\n  } catch (error) {\r\n    console.error(\"[v0] CoinGecko price error:\", error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport async function getMultipleCoinPrices(coinIds: string[]): Promise<CoinPrice[]> {\r\n  if (coinIds.length === 0) return []\r\n\r\n  const cacheKey = `multi-${coinIds.sort().join(',')}`\r\n  const cached = getCached<CoinPrice[]>(cacheKey)\r\n  if (cached) return cached\r\n\r\n  try {\r\n    const idsParam = coinIds.join(\",\")\r\n    const response = await fetch(\r\n      `${COINGECKO_API}/coins/markets?vs_currency=usd&ids=${idsParam}&order=market_cap_desc&sparkline=true&price_change_percentage=24h`,\r\n      { headers: getHeaders() }\r\n    )\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to fetch prices: ${response.status}`)\r\n    }\r\n\r\n    const data = await response.json()\r\n    console.log(\"[v0] Fetched prices for:\", coinIds.length, \"coins\")\r\n    setCache(cacheKey, data)\r\n    return data\r\n  } catch (error) {\r\n    console.error(\"[v0] CoinGecko multi-price error:\", error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport async function fetchCoinPrices(coinIds: string[]): Promise<CoinPrice[]> {\r\n  return getMultipleCoinPrices(coinIds)\r\n}\r\n\r\nexport async function getTrendingCoins(): Promise<CoinPrice[]> {\r\n  const cacheKey = 'trending'\r\n  const cached = getCached<CoinPrice[]>(cacheKey)\r\n  if (cached) {\r\n    console.log(\"[v0] Returning cached trending coins\")\r\n    return cached\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(\r\n      `${COINGECKO_API}/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=true&price_change_percentage=24h`,\r\n      { headers: getHeaders() }\r\n    )\r\n\r\n    if (response.ok) {\r\n      const data = await response.json()\r\n      setCache(cacheKey, data)\r\n      return data\r\n    }\r\n  } catch {\r\n    // Silently swallow all errors including 429\r\n  }\r\n\r\n  setCache(cacheKey, FALLBACK_TOP_COINS)\r\n  return FALLBACK_TOP_COINS\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/share/portfolio-share-card.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PortfolioShareCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call PortfolioShareCard() from the server but PortfolioShareCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/share/portfolio-share-card.tsx <module evaluation>\",\n    \"PortfolioShareCard\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,qBAAqB,IAAA,mfAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,2FACA","ignoreList":[0]}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/share/portfolio-share-card.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PortfolioShareCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call PortfolioShareCard() from the server but PortfolioShareCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/share/portfolio-share-card.tsx\",\n    \"PortfolioShareCard\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,qBAAqB,IAAA,mfAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,uEACA","ignoreList":[0]}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/dashboard/dashboard-kpis.tsx"],"sourcesContent":["import { createServerClient } from \"@/lib/supabase/server\"\r\nimport { fetchCoinPrices } from \"@/lib/coingecko\"\r\nimport { TrendingUp, TrendingDown, DollarSign, Percent } from 'lucide-react'\r\nimport { PortfolioShareCard } from \"@/components/share/portfolio-share-card\"\r\n\r\ninterface DashboardKPIsProps {\r\n  userId: string\r\n}\r\n\r\nexport async function DashboardKPIs({ userId }: DashboardKPIsProps) {\r\n  const supabase = await createServerClient()\r\n\r\n  // Fetch user's portfolio\r\n  const { data: holdings } = await supabase\r\n    .from('user_portfolios')\r\n    .select('*')\r\n    .eq('user_id', userId)\r\n\r\n  if (!holdings || holdings.length === 0) {\r\n    return null\r\n  }\r\n\r\n  // Get coin IDs and fetch current prices\r\n  const coinIds = holdings.map(h => h.coin_id)\r\n  const prices = await fetchCoinPrices(coinIds)\r\n\r\n  const { data: subscription } = await supabase\r\n    .from('user_subscriptions')\r\n    .select('status, plan')\r\n    .eq('user_id', userId)\r\n    .single()\r\n\r\n  // Calculate portfolio metrics\r\n  let totalValue = 0\r\n  let totalCost = 0\r\n  let topGainer = { name: '', gain: 0 }\r\n  let topLoser = { name: '', gain: 0 }\r\n\r\n  holdings.forEach(holding => {\r\n    const price = prices.find(p => p.id === holding.coin_id)\r\n    if (price) {\r\n      const currentValue = holding.quantity * price.current_price\r\n      const costBasis = holding.quantity * holding.purchase_price\r\n      const gain = ((currentValue - costBasis) / costBasis) * 100\r\n\r\n      totalValue += currentValue\r\n      totalCost += costBasis\r\n\r\n      if (gain > topGainer.gain) {\r\n        topGainer = { name: price.name, gain }\r\n      }\r\n      if (gain < topLoser.gain) {\r\n        topLoser = { name: price.name, gain }\r\n      }\r\n    }\r\n  })\r\n\r\n  const totalGainPercent = ((totalValue - totalCost) / totalCost) * 100\r\n  const totalGainDollar = totalValue - totalCost\r\n\r\n  const kpis = [\r\n    {\r\n      label: 'Total Value',\r\n      value: `$${totalValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n      icon: DollarSign,\r\n      color: 'text-white'\r\n    },\r\n    {\r\n      label: '24h Change',\r\n      value: `${totalGainPercent >= 0 ? '+' : ''}${totalGainPercent.toFixed(2)}%`,\r\n      subValue: `$${totalGainDollar >= 0 ? '+' : ''}${totalGainDollar.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n      icon: totalGainPercent >= 0 ? TrendingUp : TrendingDown,\r\n      color: totalGainPercent >= 0 ? 'text-green-500' : 'text-red-500'\r\n    },\r\n    {\r\n      label: 'Top Gainer',\r\n      value: topGainer.name,\r\n      subValue: `+${topGainer.gain.toFixed(2)}%`,\r\n      icon: TrendingUp,\r\n      color: 'text-green-500'\r\n    },\r\n    {\r\n      label: 'Top Loser',\r\n      value: topLoser.name,\r\n      subValue: `${topLoser.gain.toFixed(2)}%`,\r\n      icon: TrendingDown,\r\n      color: 'text-red-500'\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-2xl font-bold\">Portfolio Overview</h2>\r\n        {totalValue > 0 && (\r\n          <PortfolioShareCard\r\n            totalValue={totalValue}\r\n            totalProfitLoss={totalGainDollar}\r\n            profitLossPercentage={totalGainPercent}\r\n            topHoldings={holdings.map(h => {\r\n              const price = prices.find(p => p.id === h.coin_id)\r\n              return {\r\n                coinId: h.coin_id,\r\n                symbol: h.symbol,\r\n                quantity: h.quantity,\r\n                currentPrice: price?.current_price || 0,\r\n                profitLoss: ((price?.current_price || 0) - h.purchase_price) * h.quantity\r\n              }\r\n            })}\r\n            isPro={subscription?.status === 'active'}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {kpis.map((kpi, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"bg-card border border-border rounded-lg p-6 hover:border-primary/50 transition-all duration-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <span className=\"text-sm text-muted-foreground\">{kpi.label}</span>\r\n              <kpi.icon className={`h-4 w-4 ${kpi.color}`} />\r\n            </div>\r\n            <div className={`text-2xl font-bold ${kpi.color}`}>{kpi.value}</div>\r\n            {kpi.subValue && (\r\n              <div className=\"text-sm text-muted-foreground mt-1\">{kpi.subValue}</div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/watchlist/watchlist-section.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WatchlistSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call WatchlistSection() from the server but WatchlistSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/watchlist/watchlist-section.tsx <module evaluation>\",\n    \"WatchlistSection\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,mfAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,4FACA","ignoreList":[0]}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/watchlist/watchlist-section.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WatchlistSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call WatchlistSection() from the server but WatchlistSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/watchlist/watchlist-section.tsx\",\n    \"WatchlistSection\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,mfAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,wEACA","ignoreList":[0]}},
    {"offset": {"line": 473, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/portfolio/portfolio-section.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PortfolioSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call PortfolioSection() from the server but PortfolioSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/portfolio/portfolio-section.tsx <module evaluation>\",\n    \"PortfolioSection\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,mfAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,4FACA","ignoreList":[0]}},
    {"offset": {"line": 495, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/portfolio/portfolio-section.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PortfolioSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call PortfolioSection() from the server but PortfolioSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/portfolio/portfolio-section.tsx\",\n    \"PortfolioSection\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,mfAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,wEACA","ignoreList":[0]}},
    {"offset": {"line": 509, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/dashboard/activity-feed.tsx"],"sourcesContent":["import { createServerClient } from \"@/lib/supabase/server\"\r\nimport { Bell, TrendingUp, AlertCircle, Sparkles } from 'lucide-react'\r\nimport { formatDistanceToNow } from \"date-fns\"\r\n\r\ninterface ActivityFeedProps {\r\n  userId: string\r\n}\r\n\r\nexport async function ActivityFeed({ userId }: ActivityFeedProps) {\r\n  const supabase = await createServerClient()\r\n\r\n  const { data: alerts } = await supabase\r\n    .from('price_alerts')\r\n    .select('*')\r\n    .eq('user_id', userId)\r\n    .eq('triggered', true)\r\n    .order('triggered_at', { ascending: false })\r\n    .limit(5)\r\n\r\n  const { data: insights } = await supabase\r\n    .from('insights_history')\r\n    .select('generated_at, summary')\r\n    .eq('user_id', userId)\r\n    .order('generated_at', { ascending: false })\r\n    .limit(3)\r\n\r\n  const { data: snapshots } = await supabase\r\n    .from('portfolio_snapshots')\r\n    .select('snapshot_date, total_value')\r\n    .eq('user_id', userId)\r\n    .order('snapshot_date', { ascending: false })\r\n    .limit(10)\r\n\r\n  const milestones: any[] = []\r\n  if (snapshots && snapshots.length > 1) {\r\n    const thresholds = [1000, 5000, 10000, 25000, 50000, 100000]\r\n    for (let i = 0; i < snapshots.length - 1; i++) {\r\n      const current = snapshots[i].total_value\r\n      const previous = snapshots[i + 1].total_value\r\n      \r\n      for (const threshold of thresholds) {\r\n        if (previous < threshold && current >= threshold) {\r\n          milestones.push({\r\n            type: 'milestone' as const,\r\n            icon: TrendingUp,\r\n            title: `Portfolio Milestone!`,\r\n            description: `Your portfolio crossed $${threshold.toLocaleString()}`,\r\n            time: snapshots[i].snapshot_date,\r\n            color: 'text-green-500'\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const activities = [\r\n    ...(alerts || []).map(alert => ({\r\n      type: 'alert' as const,\r\n      icon: Bell,\r\n      title: `${alert.coin_id.toUpperCase()} Alert Triggered`,\r\n      description: `Price ${alert.condition} $${alert.target_price}`,\r\n      time: alert.triggered_at,\r\n      color: 'text-yellow-500'\r\n    })),\r\n    ...(insights || []).map(insight => ({\r\n      type: 'insight' as const,\r\n      icon: Sparkles,\r\n      title: 'New AI Insight',\r\n      description: insight.summary.substring(0, 60) + '...',\r\n      time: insight.generated_at,\r\n      color: 'text-purple-500'\r\n    })),\r\n    ...milestones\r\n  ].sort((a, b) => new Date(b.time).getTime() - new Date(a.time).getTime()).slice(0, 10)\r\n\r\n  return (\r\n    <div className=\"bg-card border border-border rounded-lg p-6 sticky top-4\">\r\n      <h2 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\r\n        <TrendingUp className=\"h-5 w-5\" />\r\n        Recent Activity\r\n      </h2>\r\n\r\n      {activities.length === 0 ? (\r\n        <div className=\"text-center py-8 text-muted-foreground\">\r\n          <AlertCircle className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\r\n          <p className=\"text-sm\">No recent activity</p>\r\n          <p className=\"text-xs mt-1\">Alerts, insights, and milestones will appear here</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {activities.map((activity, index) => (\r\n            <div key={index} className=\"flex gap-3 pb-4 border-b border-border last:border-0 last:pb-0\">\r\n              <div className={`mt-1 ${activity.color}`}>\r\n                <activity.icon className=\"h-4 w-4\" />\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className=\"text-sm font-medium text-foreground\">{activity.title}</p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">{activity.description}</p>\r\n                <p className=\"text-xs text-muted-foreground/60 mt-1\">\r\n                  {formatDistanceToNow(new Date(activity.time), { addSuffix: true })}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/dashboard/empty-dashboard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const EmptyDashboard = registerClientReference(\n    function() { throw new Error(\"Attempted to call EmptyDashboard() from the server but EmptyDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/dashboard/empty-dashboard.tsx <module evaluation>\",\n    \"EmptyDashboard\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,mfAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,0FACA","ignoreList":[0]}},
    {"offset": {"line": 730, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/dashboard/empty-dashboard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const EmptyDashboard = registerClientReference(\n    function() { throw new Error(\"Attempted to call EmptyDashboard() from the server but EmptyDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/dashboard/empty-dashboard.tsx\",\n    \"EmptyDashboard\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,mfAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,sEACA","ignoreList":[0]}},
    {"offset": {"line": 744, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 752, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/gamification/streak-tracker.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StreakTracker = registerClientReference(\n    function() { throw new Error(\"Attempted to call StreakTracker() from the server but StreakTracker is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/gamification/streak-tracker.tsx <module evaluation>\",\n    \"StreakTracker\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,mfAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,4FACA","ignoreList":[0]}},
    {"offset": {"line": 766, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/gamification/streak-tracker.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StreakTracker = registerClientReference(\n    function() { throw new Error(\"Attempted to call StreakTracker() from the server but StreakTracker is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/gamification/streak-tracker.tsx\",\n    \"StreakTracker\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,mfAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,wEACA","ignoreList":[0]}},
    {"offset": {"line": 780, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/affiliates/recommended-exchanges.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RecommendedExchanges = registerClientReference(\n    function() { throw new Error(\"Attempted to call RecommendedExchanges() from the server but RecommendedExchanges is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/affiliates/recommended-exchanges.tsx <module evaluation>\",\n    \"RecommendedExchanges\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,uBAAuB,IAAA,mfAAuB,EACvD;IAAa,MAAM,IAAI,MAAM;AAAwP,GACrR,iGACA","ignoreList":[0]}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/affiliates/recommended-exchanges.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RecommendedExchanges = registerClientReference(\n    function() { throw new Error(\"Attempted to call RecommendedExchanges() from the server but RecommendedExchanges is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/affiliates/recommended-exchanges.tsx\",\n    \"RecommendedExchanges\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,uBAAuB,IAAA,mfAAuB,EACvD;IAAa,MAAM,IAAI,MAAM;AAAwP,GACrR,6EACA","ignoreList":[0]}},
    {"offset": {"line": 816, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/onboarding/bb-welcome-wrapper.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BBWelcomeWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call BBWelcomeWrapper() from the server but BBWelcomeWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/onboarding/bb-welcome-wrapper.tsx <module evaluation>\",\n    \"BBWelcomeWrapper\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,mfAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,8FACA","ignoreList":[0]}},
    {"offset": {"line": 838, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/onboarding/bb-welcome-wrapper.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BBWelcomeWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call BBWelcomeWrapper() from the server but BBWelcomeWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/onboarding/bb-welcome-wrapper.tsx\",\n    \"BBWelcomeWrapper\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,mfAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,0EACA","ignoreList":[0]}},
    {"offset": {"line": 852, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 860, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/dashboard/DeFiPositions.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DeFiPositions = registerClientReference(\n    function() { throw new Error(\"Attempted to call DeFiPositions() from the server but DeFiPositions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/dashboard/DeFiPositions.tsx <module evaluation>\",\n    \"DeFiPositions\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,mfAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,wFACA","ignoreList":[0]}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/components/dashboard/DeFiPositions.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DeFiPositions = registerClientReference(\n    function() { throw new Error(\"Attempted to call DeFiPositions() from the server but DeFiPositions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Kryptotrac-xx-1/components/dashboard/DeFiPositions.tsx\",\n    \"DeFiPositions\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,mfAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,oEACA","ignoreList":[0]}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 896, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/north/Kryptotrac-xx-1/app/dashboard/page.tsx"],"sourcesContent":["import { redirect } from 'next/navigation'\r\nimport { createServerClient } from \"@/lib/supabase/server\"\r\nimport { DashboardKPIs } from \"@/components/dashboard/dashboard-kpis\"\r\nimport { WatchlistSection } from \"@/components/watchlist/watchlist-section\"\r\nimport { PortfolioSection } from \"@/components/portfolio/portfolio-section\"\r\nimport { ActivityFeed } from \"@/components/dashboard/activity-feed\"\r\nimport { EmptyDashboard } from \"@/components/dashboard/empty-dashboard\"\r\nimport { StreakTracker } from \"@/components/gamification/streak-tracker\"\r\nimport { RecommendedExchanges } from \"@/components/affiliates/recommended-exchanges\"\r\nimport { BBWelcomeWrapper } from \"@/components/onboarding/bb-welcome-wrapper\"\r\nimport { DeFiPositions } from \"@/components/dashboard/DeFiPositions\"\r\n\r\nexport default async function DashboardPage() {\r\n  const supabase = await createServerClient()\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser()\r\n\r\n  if (!user) {\r\n    redirect(\"/auth/login\")\r\n  }\r\n\r\n  const { data: userData } = await supabase\r\n    .from('profiles')\r\n    .select('onboarding_completed')\r\n    .eq('id', user.id)\r\n    .single()\r\n\r\n  const showWelcome = !userData?.onboarding_completed\r\n\r\n  const { data: watchlistItems } = await supabase\r\n    .from('user_watchlists')\r\n    .select('id')\r\n    .eq('user_id', user.id)\r\n    .limit(1)\r\n\r\n  const { data: portfolioItems } = await supabase\r\n    .from('user_portfolios')\r\n    .select('id')\r\n    .eq('user_id', user.id)\r\n    .limit(1)\r\n\r\n  const hasData = (watchlistItems && watchlistItems.length > 0) || (portfolioItems && portfolioItems.length > 0)\r\n\r\n  if (!hasData) {\r\n    return (\r\n      <>\r\n        {showWelcome && <BBWelcomeWrapper />}\r\n        <EmptyDashboard user={user} />\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {showWelcome && <BBWelcomeWrapper />}\r\n      <div className=\"min-h-screen bg-background\">\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-3xl font-bold text-balance\">Welcome back, {user.email?.split('@')[0]}</h1>\r\n            <p className=\"text-muted-foreground mt-1\">Here's what's happening with your portfolio</p>\r\n          </div>\r\n\r\n          <div className=\"mb-6\">\r\n            <StreakTracker />\r\n          </div>\r\n\r\n          <DashboardKPIs userId={user.id} />\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8\">\r\n            <div className=\"lg:col-span-2 space-y-8\">\r\n              <WatchlistSection />\r\n              <PortfolioSection />\r\n              <DeFiPositions />\r\n            </div>\r\n\r\n            <div className=\"lg:col-span-1 space-y-6\">\r\n              <ActivityFeed userId={user.id} />\r\n              <RecommendedExchanges />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM,IAAA,wKAAkB;IACzC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,IAAI,CAAC,MAAM;QACT,IAAA,4aAAQ,EAAC;IACX;IAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,SAC9B,IAAI,CAAC,YACL,MAAM,CAAC,wBACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;IAET,MAAM,cAAc,CAAC,UAAU;IAE/B,MAAM,EAAE,MAAM,cAAc,EAAE,GAAG,MAAM,SACpC,IAAI,CAAC,mBACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC;IAET,MAAM,EAAE,MAAM,cAAc,EAAE,GAAG,MAAM,SACpC,IAAI,CAAC,mBACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC;IAET,MAAM,UAAU,AAAC,kBAAkB,eAAe,MAAM,GAAG,KAAO,kBAAkB,eAAe,MAAM,GAAG;IAE5G,IAAI,CAAC,SAAS;QACZ,qBACE;;gBACG,6BAAe,ydAAC,kMAAgB;;;;;8BACjC,ydAAC,yLAAc;oBAAC,MAAM;;;;;;;;IAG5B;IAEA,qBACE;;YACG,6BAAe,ydAAC,kMAAgB;;;;;0BACjC,ydAAC;gBAAI,WAAU;0BACb,cAAA,ydAAC;oBAAI,WAAU;;sCACb,ydAAC;4BAAI,WAAU;;8CACb,ydAAC;oCAAG,WAAU;;wCAAkC;wCAAe,KAAK,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE;;;;;;;8CACxF,ydAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;sCAG5C,ydAAC;4BAAI,WAAU;sCACb,cAAA,ydAAC,0LAAa;;;;;;;;;;sCAGhB,ydAAC,uLAAa;4BAAC,QAAQ,KAAK,EAAE;;;;;;sCAE9B,ydAAC;4BAAI,WAAU;;8CACb,ydAAC;oCAAI,WAAU;;sDACb,ydAAC,6LAAgB;;;;;sDACjB,ydAAC,6LAAgB;;;;;sDACjB,ydAAC,mLAAa;;;;;;;;;;;8CAGhB,ydAAC;oCAAI,WAAU;;sDACb,ydAAC,qLAAY;4CAAC,QAAQ,KAAK,EAAE;;;;;;sDAC7B,ydAAC,sMAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnC"}}]
}